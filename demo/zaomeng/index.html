<!DOCTYPE html>
<!--[if IEMobile 7 ]>
<html class="no-js iem7"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>有梦想的人都知道：今天是造梦者日</title>
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="cleartype" content="on">
    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <link  rel="stylesheet" href="./css/animate.min.css">
    <link  rel="stylesheet" href="./css/animate.wkl.css">

    <script src="./js/jquery.min.js"></script>
    <script src="./js/jquery.mobile.custom.min.js"></script>
    <script src="./js/idangerous.swiper.min.js"></script>
    <script src="./js/imagesloaded.pkgd.min.js"></script>

    <link rel="stylesheet" href="./css/idangerous.swiper.css">
    <link rel="stylesheet" href="./css/christmas2014_2.css">
    <script src="./js/weixin.js"></script>
</head>

<body>
<!-- loading -->
<div class="loading_out" id="loading_out">
    <div class="loading">
        <img src="./images/logo.png" width="168" height="88"/>

        <div class="loading_c">
            <span style="width:0%;"></span>
            <em></em>
        </div>
        <p>努力加载中...</p>
    </div>
</div>
<!-- /loading -->
<!-- container -->

<div class="container">
<div class="swiper-container">
<div class="swiper-wrapper">
<div class="swiper-slide bg1">
    <div class="wrap">

        <img class="p1-2" src="./images/1/1-2.png" width="420" />
        <img class="p1-3" src="./images/1/1-3.png" width="420" />
        <img class="p1-4" src="./images/1/1-4.png" width="420" />
        <img class="p1-5" src="./images/1/1-5.png" width="420" />

        <div class="arrow_btn">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg2">
    <div class="wrap">

        <img class="p2-2" src="./images/2/2-2.png" width="420" />
        <img class="p2-3" src="./images/2/2-3.png"  width="360" />
        <img class="p2-4" src="./images/2/2-4.png"  width="420"/>
        <img class="p2-5" src="./images/2/2-5.png"  width="420"/>
        <img class="p2-6" src="./images/2/2-6.png" width="420" />
        <img class="p2-7" src="./images/2/2-7.png"  width="420"/>
        <img class="p2-8" src="./images/2/2-8.png" width="420" />
        <img class="p2-9" src="./images/2/2-9.png"  width="420"/>

        <div class="arrow_btn">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg3">
    <div class="wrap">

        <img class="p3-2" src="./images/3/3-2.png" width="360" />
        <img class="p3-3" src="./images/3/3-3.png" width="420" />
        <img class="p3-4" src="./images/3/3-4.png" width="380" />

        <div class="arrow_btn">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg4">
    <div class="wrap">

        <img class="p4-2" src="./images/4/4-2.png" width="360" />
        <img class="p4-3" src="./images/4/4-3.png" width="420" />
        <img class="p4-4" src="./images/4/4-4.png" width="380" />


        <div class="arrow_btn">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg5">
    <div class="wrap">

        <img class="p5-2" src="./images/5/5-2.png" width="360" />
        <img class="p5-3" src="./images/5/5-3.png" width="420" />
        <img class="p5-4" src="./images/5/5-4.png" width="380" />

        <div class="arrow_btn btn_sty2">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg6">
    <div class="wrap">

        <img class="p6-1" src="./images/6/6-1.png" width="420" />
        <img class="p6-2" src="./images/6/6-2.png" width="380" />
        <img class="p6-3" src="./images/6/6-3.png" width="380" />
        <img class="p6-4" src="./images/6/6-4.png" width="380" />
        <img class="p6-5" src="./images/6/6-5.png" width="380" />
        <img class="p6-6" src="./images/6/6-6.png" width="380" />

        <div class="arrow_btn btn_sty3">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg7">
    <div class="wrap">
        <img class="p7-1" src="./images/7/7-1.png" width="420" />
        <!--<img class="p7-2" src="./images/7/7-2.png" width="380" />-->
        <!--<img class="p7-3" src="./images/7/7-3.png" width="380" />-->
        <div class="p7-input" style="width: 380">
            <input type="text" class="p7-3" placeholder="当上总经理，出任CEO，赢取白富美，走上人生巅峰" />
            <img class="p7-2" src="./images/7/7-2.png" width="380" />
        </div>

        <img class="p7-4" src="./images/7/7-4.png" width="380" />
        <div class="p7-tumb" style="width: 380">
            <img class="p7-5" src="./images/7/7-5.png" width="380" />
            <img class="p7-6" src="./images/7/7-6.png" width="380" />
            <img class="p7-7" src="./images/7/7-7.png" width="380" />
        </div>
        <img class="p7-8" src="./images/7/7-8.png" width="380" />

        <!--
        <img class="p7-1" src="./images/7/7-1.png" width="420" />
        <img class="p7-2" src="./images/7/7-2.png" width="420" />
        <img class="p7-3" src="./images/7/7-3.png" width="420" />
        <img class="p7-4" src="./images/7/7-4.png" width="420" />
        <img class="p7-5" src="./images/7/7-5.png" width="420" />
        <img class="p7-6" src="./images/7/7-6.png" width="420" />
        <img class="p7-7" src="./images/7/7-7.png" width="420" />
        -->

        <div class="arrow_btn">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

<div class="swiper-slide bg8">
    <div class="wrap">

        <img class="p8-1" src="./images/8/8-1.png" width="420" />
        <img class="p8-2" src="./images/8/8-2.png" width="380" />
        <img class="p8-3" src="./images/8/8-3.png" width="380" />
        <img class="p8-4" src="./images/8/8-4.png" width="380" />
        <div class="p8-5" width="420" >
            <!--<p>-->
            <div class="p8-5-1" align="center">
                您是第<span id="playerid"></span>位“造梦者”
            <!--</p>-->
            </div>
        </div>
        <!--<img class="p8-5" src="./images/8/8-5.png" width="380" />-->
        <img class="p8-6" src="./images/8/8-6.png" width="380" />
        <img class="share" src="./images/8/share.png" width="380" />

        <div class="arrow_btn btn_sty3">
            <a href="javascript:;" class="arrow"></a>
            <a href="javascript:;" class="arrowTop" style="display: inline;"></a>
        </div>
    </div>
</div>

</div>
</div>
<a href="javascript:void(0);" class="music rotate"></a>
</div>
<script>
    // baidu
//    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
//    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0541f65364098adec600b0960f3f19ef' type='text/javascript'%3E%3C/script%3E"));

    var playno=57982;

    if(localStorage["playerNo"]== null || localStorage["playerNo"]=="" || localStorage["playerNo"] == 'NaN'){
        localStorage["playerNo"] = 57982;
    }
    playno = parseInt(localStorage["playerNo"]) + parseInt(Math.random()*100);
    localStorage["playerNo"] = parseInt(playno);
    $("#playerid").text(playno);

    var loaded = 0;
    var swiper;
    var slide_count;

    if ($('.container img').length === 0 || navigator.userAgent.indexOf('MSIE 9') != -1) {
        hide_loading();
    } else {
        $('.container').imagesLoaded().progress(function (instance, image){
            loaded++;
            $('.loading_out span').css('width', parseInt(loaded / instance.images.length * 100) + '%');
            if (loaded == instance.images.length) {
                hide_loading();
                initial_page();
            }
        });
    }

    function hide_loading(){
        setTimeout(function () {
            $('.loading_out').fadeOut();
            $('.arrow').show();
        }, 100);
    }

    function initial_page(){
        $(function(){
            slide_count = $('.swiper-slide').length;
            swiper = $('.swiper-container').swiper({
                mode: 'vertical',
                followFinger: false,
                speed:  600,
                isSigned : false,
                onSlideChangeEnd: function (swiper, direction) {
                    if(swiper.activeIndex == 0) {
                        $('.arrowTop').fadeOut();
                        $('.arrow').fadeIn();
                    } else if (swiper.activeIndex == slide_count - 1) {
                        $('.arrowTop').fadeIn();
                        $('.arrow').fadeOut();
                    } else {
                        $('.arrowTop').fadeIn();
                        $('.arrow').fadeIn();
                    }

                    if(swiper.activeIndex == 0){
//                        alert(swiper.activeIndex);
                        $('.p1-2').addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                            $('.p1-2').removeClass("animated bounceInDownWkl");
                            $('.p1-3').addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p1-3').removeClass("animated bounceInDownWkl");
                                $('.p1-4').addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                    $('.p1-4').removeClass("animated bounceInDownWkl");
                                    $('.p1-5').addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                        $('.p1-5').removeClass("animated bounceInDownWkl");
                                    });
                                });
                            });
                        });
                    }else if(swiper.activeIndex == 1){
                        setTimeout(function(){
                            $('.p2-3').addClass("animated bounceInDown").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                setTimeout(function(){
                                    $(".p2-4,.p2-5").addClass("animated bounceInLeftWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                        setTimeout(function(){
                                            $('.p2-4,.p2-5').removeClass("bounceInLeftWkl").css("-webkit-transform","translate3d(0, 0, 0)").addClass("bounceOutRightWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                                $('.p2-4,.p2-5').removeClass("bounceOutRightWkl").hide();

                                            });
                                        },1500);
                                    });
                                },100);
                                setTimeout(function(){
                                    $(".p2-6,.p2-7").addClass("animated bounceInLeftWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                        setTimeout(function(){
                                            $(".p2-6,.p2-7").removeClass("bounceInLeftWkl").css("-webkit-transform","translate3d(0, 0, 0)").addClass("bounceOutRightWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                                $(".p2-6,.p2-7").removeClass("bounceOutRightWkl").hide();

                                            });
                                        },1500);
                                    });
                                },3500);
                                setTimeout(function(){
                                    $(".p2-8,.p2-9").addClass("animated bounceInLeftWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                        setTimeout(function(){
                                            $(".p2-8,.p2-9").removeClass("bounceInLeftWkl").css("-webkit-transform","translate3d(0, 0, 0)");

                                            $('.arrow_btn').show();
                                        },1500);
                                    });
                                },7000);
                            });
                        },100);
                    }else if(swiper.activeIndex == 2){
                        setTimeout(function(){
                            $(".p3-3").addClass("animated bounceInUpWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                setTimeout(function(){
                                    $('.p3-3').removeClass("bounceInUpWkl").css("-webkit-transform","translate3d(0, 0, 0)");
//                                },1500);
                            });
                        },100);

                        setTimeout(function(){
                            $(".p3-2").addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p3-2').removeClass("bounceInDownWkl").css("-webkit-transform","translate3d(0, 0, 0)");
                                $('.p3-4').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                    $('.p3-4').css("opacity","1").removeClass("fadeInWkl");
                                });
                            });
                        },1500);
                    }else if(swiper.activeIndex == 3){
                        setTimeout(function(){
                            $(".p4-3").addClass("animated bounceInUpWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                setTimeout(function(){
                                $('.p4-3').removeClass("bounceInUpWkl").css("-webkit-transform","translate3d(0, 0, 0)");
//                                },1500);
                            });
                        },100);

                        setTimeout(function(){
                            $(".p4-2").addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p4-2').removeClass("bounceInDownWkl").css("-webkit-transform","translate3d(0, 0, 0)");
                                $('.p4-4').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                    $('.p4-4').css("opacity","1").removeClass("fadeInWkl");
                                });
                            });
                        },1500);
                    }else if(swiper.activeIndex == 4){
                        setTimeout(function(){
                            $(".p5-3").addClass("animated bounceInUpWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                setTimeout(function(){
                                $('.p5-3').removeClass("bounceInUpWkl").css("-webkit-transform","translate3d(0, 0, 0)");
//                                },1500);
                            });
                        },100);

                        setTimeout(function(){
                            $(".p5-2").addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p5-2').removeClass("bounceInDownWkl").css("-webkit-transform","translate3d(0, 0, 0)");
                                $('.p5-4').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                    $('.p5-4').css("opacity","1").removeClass("fadeInWkl");
                                });
                            });
                        },1500);
                    }else if(swiper.activeIndex == 5){
                        setTimeout(function(){
                            $('.p6-2').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p6-2').css("opacity","1").removeClass("fadeInWkl");
                            });
                        },100);

                        setTimeout(function(){
                            $('.p6-3').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p6-3').css("opacity","1").removeClass("fadeInWkl");
                            });
                        },1000);

                        setTimeout(function(){
                            $('.p6-4').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p6-4').css("opacity","1").removeClass("fadeInWkl");
                            });
                        },2000);

                        setTimeout(function(){
                            $('.p6-5').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p6-5').css("opacity","1").removeClass("fadeInWkl");
                            });
                        },3000);

                        setTimeout(function(){
                            $('.p6-6').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                                $('.p6-6').css("opacity","1").removeClass("fadeInWkl");
                            });
                        },4000);
                    }else if(swiper.activeIndex==6){
                            $(".p7-tumb").fadeIn();
                            $(".p7-tumb, .p7-5, .p7-6, .p7-7").on("touchstart click",function(){
                                $(".p7-7").css("display","none");
                                $(".p7-6").css("opacity","1");
                                setTimeout(function(){
                                    this.isSigned = true;
                                    swiper.swipeTo(7);
                                },500);
                            });
                    }else if(swiper.activeIndex==7){

                        // 按指纹后才能翻页
                        if(!this.isSigned){

                            swiper.swipePrev();
                            return;
                        }

                        $(".p8-2").on("click",function(){
                            $(".share").show();
                        });

                        // 隐藏分享提示
                        $(".share").on("click",function(){
                            $(".share").hide();
                        });

                        setTimeout(function(){
                            $('.p8-3').addClass("animated zoomInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){

                            });
                        }, 200);

                        setTimeout(function(){
                            $('.p8-2').addClass("animated pulseWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){

                                // $('.p8-2').css("opacity","1").removeClass("pulseWkl");
                            });
                        }, 1200);
                    }
                },
                onFirstInit: function(swiper){

                        $('.p1-2').addClass("animated bounceInDownWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
                            $('.p1-2').removeClass("bounceInDownWkl"); // .addClass("display").show();
//                            $('.p1-2').addClass("display");
                            $('.p1-3').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                $('.p1-3').removeClass("fadeInWkl");
                                $('.p1-4').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                    $('.p1-4').removeClass("fadeInWkl");
                                    $('.p1-5').addClass("animated fadeInWkl").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){
//                                        $('.p1-5').removeClass("fadeInWkl");
                                    });
                                });
                            });
                        });
                },
                onSlideChangeStart : function(swiper){
                    if(swiper.activeIndex == 0){
                        $("body").css("background","url(./images/1/1-1.png)");
                    }else if(swiper.activeIndex == 1){
                        $("body").css("background","url(./images/2/2-1.png)");
                        $('.arrow_btn').hide();
                    }else if(swiper.activeIndex == 2){
//                        $("body").css("background","url(./images/3/3-1.png)");
                    }else if(swiper.activeIndex == 3){
                        $("body").css("background","url(./images/3/3-1.png)");
                    }else if(swiper.activeIndex == 4){
                        $("body").css("background","url(./images/3/3-1.png)");
                    }else if(swiper.activeIndex == 5){
//                        $("body").css("background","url(./images/6/6-1.png)");
//                        $("body").css("background","#FF865E");
                    }else if(swiper.activeIndex == 6){
//                        $("body").css("background","url(./images/7/7-1.png)");


                    }else if(swiper.activeIndex == 7){

                        // 按指纹后才能翻页
                        if(!this.isSigned){

                                return ;
//                            swiper.swipePrev();
//                            swiper.swipeTo(6);
//                            swiper.activeIndex = 6;
//                            alert("okk");
                        }else{
                            $("body").css("background","url(./images/8/8-1.png)");
                        }

                    }else if(swiper.activeIndex == 8){
                        $("body").css("background","url(./images/9/9-1.png)");
                    }

                }
            });
            /*
             $('.arrowTop').on('tap', function (e){
             e.preventDefault();
             swiper.swipePrev();
             });*/

            $('.arrow').on('tap', function (e) {
                e.preventDefault();
                swiper.swipeNext();
            });

        });
    }

    //music
    var beep,initAudio = function(){
        beep = document.createElement('audio');
        beep.setAttribute('src','http://www.bbpem.com/ganren.mp3');
        beep.setAttribute('autoplay','autoplay');
        beep.load();
        beep.play()
    };
    $('.music').on('touchend',function(){
        if(beep.paused){
            beep.play();
            $(this).addClass('rotate');
            return;
        }
        $(this).removeClass('rotate');
        beep.pause();
    });

    initAudio();
    //share
    (function(){
        var ie = /msie/i.test(navigator.userAgent);
        //var ie = true;
        var mask = $('<div class="overlay-mask"></div>').appendTo($('body')),
                share = $('<div class="share-' + (!ie ? 'top' : 'bottom') + '"></div>').appendTo($('body'));
        $('.overlay-mask,.share-top,.share-bottom').on('click', function(){
            overlay.shareHide();
        });
        return overlay = {
            shareShow : function(){ // 显示分享
                mask.show(),share.show();
            },
            shareHide : function(){ // 隐藏分享
                mask.hide(),share.hide();
            }
        }
    })();
    document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
        WeixinJSBridge.call('showOptionMenu');

    });

    $(".share_btn").click(function(){
        overlay.shareShow()
    });

    var data = {
        appid: '',
        msgimg: "http://2.wklgame.sinaapp.com/demo/zaomeng/images/logo.png",
        tlimg: "http://2.wklgame.sinaapp.com/demo/zaomeng/images/logo.png",
        url: window.location.href,
        title: "有梦想的人都知道：今天是造梦者日",
        desc: "有梦想的人都知道：今天是造梦者日",
        fakeid: ""
    };

    var cbf_1 = function () {
        _hmt.push(['_trackEvent', "2014_ecard", "share_to_friend","friend"]) ;
    };
    var cbf_2 = function () {
        _hmt.push(['_trackEvent', "2014_ecard", "share_to_moment","moment"]);
    };
    weixinjs(data, cbf_1, cbf_2);

</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?c8d115cc5aa82babec54fa11415e92c2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</body>
</html>